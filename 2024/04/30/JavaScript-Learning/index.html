<!DOCTYPE html>
<html lang="zh-CN">
    <head prefix="og: https://ogp.me/ns#">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="light dark">
  
  <title>JavaScript学习笔记 - Debussy</title>
  
    <link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/favicon.ico">
  
  
    <link rel='manifest' href='/manifest.json'>
  

  
  
  
  <meta property="og:title" content="JavaScript学习笔记 - Debussy" />
  
  <meta property="og:type" content="article" />
  
  <meta property="og:url" content="http://sukidebussy.blog.com/2024/04/30/JavaScript-Learning/index.html" />
  
  <meta property="og:image" content="/favicon.ico" />
  
  <meta property="og:article:published_time" content="2024-04-30T04:39:49.000Z" />
  
  <meta property="og:article:author" content="Yun Zhang" />
  
  

  
<link rel="stylesheet" href="/css/var.css">

  
<link rel="stylesheet" href="/css/main.css">

  
<link rel="stylesheet" href="/css/typography.css">

  
<link rel="stylesheet" href="/css/code-highlighting.css">

  
<link rel="stylesheet" href="/css/components.css">

  
<link rel="stylesheet" href="/css/nav.css">

  
<link rel="stylesheet" href="/css/paginator.css">

  
<link rel="stylesheet" href="/css/footer.css">

  
<link rel="stylesheet" href="/css/post-list.css">

  
  
<link rel="stylesheet" href="/css/rainbow-banner.css">

  
  
  
<link rel="stylesheet" href="/css/toc.css">

  
  
  
  
  
<link rel="stylesheet" href="/css/post.css">

  
  
  
  
  

  
<meta name="generator" content="Hexo 6.3.0"></head>
    <body
        data-color-scheme="light"
        data-uppercase-categories="true"
        
        data-rainbow-banner="true"
        data-rainbow-banner-shown="always"
        data-rainbow-banner-month="6"
        data-rainbow-banner-colors="#e50000,#ff8d00,#ffee00,#008121,#004cff,#760188"
        
        data-config-root="/"
        
        data-toc="true"
        data-toc-max-depth="4"
        
        
    >
        <nav id="theme-nav">
    <div class="inner">
        <a class="title" href="/">Debussy&#39;s Blog</a>
        <div class="nav-arrow"></div>
        <div class="nav-items">
            <a class="nav-item nav-item-home" href="/">Home</a>
            
            
            <a class="nav-item" href="/archives">Archives</a>
            
            
            
            <a class="nav-item" href="/friends">Friends</a>
            
            
            
            <a class="nav-item" href="/projects">Projects</a>
            
            
            
            <a class="nav-item" href="/about">About</a>
            
            
            
            <a class="nav-item nav-item-github nav-item-icon" href="https://github.com/sukiDebussy" target="_blank" aria-label="GitHub">&nbsp;</a>
            
            
            
            <a class="nav-item nav-item-search nav-item-icon" href="/search" target="_blank" aria-label="Search">&nbsp;</a>
            
            
        </div>
    </div>
</nav>
        
<article class="post">
    <div class="meta">
        

        
        <div class="date" id="date">
            <span>April</span>
            <span>30,</span>
            <span>2024</span>
        </div>
        

        <h1 class="title">JavaScript学习笔记</h1>
    </div>

    <div class="divider"></div>

    <div class="content">
        <h1 id="javascript学习笔记">JavaScript学习笔记</h1>
<ul>
<li>参考课程：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JJ41177di?t=1.9">【狂神说Java】JavaScript最新教程通俗易懂</a></li>
</ul>
<h2 id="javascript引入">1 JavaScript引入</h2>
<h3 id="在网页上输出-hello-world">1.1 在网页上输出 Hello world</h3>
<p>JavaScript代码需要放在HTML文件中，下面是一个简单的HTML代码示例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>Debussy<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"source/js/test.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以在<code>.html</code>文件中的script标签中书写JavaScript代码，但是一般采用下面的方式进行外部引入。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"source/js/test.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><strong>该标签需要放在body标签的最后，以加快网页的加载速度</strong>。不要使用合并标签。在<code>test.js</code>文件中书写下面的代码调用一个弹窗，显示<code>Hello world!</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">alert</span>(<span class="string">"Hello world!"</span>);    <span class="comment">// 在弹窗中输出Hello World！</span></span><br></pre></td></tr></table></figure>
<p><code>alert</code>函数的参数是一个字符串，字符串可以用单引号引出，也可以用双引号。这一点和C语言不同。</p>
<p><img src="https://raw.githubusercontent.com/sukiDebussy/pictures/master/test/image-20240430134221441.png"></p>
<p>弹窗命令可以用来方便地调试程序。前端写弹窗非常简单，至少相比于后端要简单不少。</p>
<h3 id="javascript-简介">1.2 JavaScript 简介</h3>
<p>JavaScript是一门弱脚本语言（可能是世界上最流行的脚本语言），源代码不需要通过编译，而是由浏览器解释运行，<strong>用于控制网页的行为</strong>。JavaScript只能在浏览器引擎上运行，浏览器引擎类似发动机引擎，JavaScript相当于汽油，而浏览器本体相当于一台汽车。我们可以用汽油和发动机去驱动汽车，也可以去浇灌农田。类似地，使用JavaScript可以实现网页端的开发，在不同的运行环境下（应用场景不同）也可以发生不同的作用，例如使用Electron（NodeJS）框架实现桌面端应用的开发。</p>
<p>只掌握JavaScript只能说掌握了前端开发的基础。一般的前端开发可以分为原生开发和框架开发，说白了，就是是否重复造轮子的选择问题，或者说是否造好看的轮子的问题。目前流行的前端框架有Vue，UI框架有阿里巴巴出品的Ant-Design等。</p>
<p>==JavaScript的线上环境和开发环境可能不一致==：ECMAScript是JavaScript遵循的标准，最新已经更新到ES6了。但是大多数浏览器支持仍然停留在ES5，所以需要WebPack等工具将ES6代码打包成ES5，才能在大多数浏览器上运行。</p>
<h3 id="css-和-css-预处理器">1.3 CSS 和 CSS 预处理器</h3>
<blockquote>
<p>这一块知识和JavaScript关系不大，但是也记录在此，因为它和前端开发结合的相当紧密。</p>
</blockquote>
<p>CSS层叠样式是一门标记语言，它本身并不是编程语言，<strong>它不支持自定义变量和引用，不具备任何语法支持特性</strong>。这成为了它的主要缺陷，CSS的语法不够强大，不能嵌套书写，模块化开发中需要写很多重复的选择器；没有合理的样式复用和维护机制，逻辑上相关的属性必须以字面量的形式重复输出，导致难以维护。为了解决这一问题，实际开发中通常使用一种称为CSS预处理器的工具。</p>
<p>CSS预处理器定义了一种新的语言，它的基本思想是，用一种专门的编程语言，为CSS增加一些编程的特性。将CSS作为目标生成文件（编译目标），而开发者需要书写生成CSS语言的逻辑就可以方便地实现网页样式的维护和更新。</p>
<p>常用的CSS预处理器由SASS和LESS，二者相比LESS更加简单，更常用。LESS基于NodeJS，功能比SASS简单，但是解析效率不如SASS。实际开发中LESS也够用了。</p>
<h2 id="基本语法入门">2 基本语法入门</h2>
<h3 id="变量">2.1 变量</h3>
<p>JavaScript中定义变量非常简单，甚至不需要显式地指定变量类型，统统用<code>var</code>表示。变量名中可以添加<code>$</code>，也可以以它开头，只不过不常用。甚至可以使用中文命名和赋值，不过应该和使用的中文编码方式有关，容易报错，感觉还是不要使用为妙。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"Hello world!"</span>;</span><br></pre></td></tr></table></figure>
<h3 id="条件判断">2.2 条件判断</h3>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> score = <span class="number">80</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (score &gt; <span class="number">60</span> &amp;&amp; score &lt; <span class="number">90</span>) {</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">"合格"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (score &gt;= <span class="number">90</span>) {</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">"优秀"</span>);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">else</span> {</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">"不合格"</span>);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>单条语句可以省略花括号。</p>
<h3 id="基本的浏览器操作">2.3 基本的浏览器操作</h3>
<p>调试除了用<code>alert()</code>或者<code>console.log()</code>函数输出信息外，还可以断点调试。这里以Edge浏览器为例。</p>
<p><img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240430145609448.png"></p>
<p>点击F12打开控制台，在源代码处可以打断点。刷新网页即可直接运行。在右侧监视窗口可以添加变量名用于监视变量的变化。</p>
<p>除此之外，常用的窗口及其作用如下所示：</p>
<ul>
<li>元素窗口（Element）：一般用于查看网页元素和复刻网页；</li>
<li>控制台（Console）：用于打印变量，执行控制命令等；</li>
<li>源代码（Source）：查看源码，断点调试；</li>
<li>网络（Network）：抓包；</li>
<li>应用程序（Application）：查看Cookie。</li>
</ul>
<h3 id="常见数据类型">2.4 常见数据类型</h3>
<p>在网页上常见的数据类型不止数字和字符串。图像，文本，音频，视频等都是数据类型。JavaScript的数据类型非常庞杂。</p>
<h4 id="数字-number">2.4.1 数字 Number</h4>
<p>JavaScript不区分小数和整数，所有数字统一都是<code>number</code>类型。JavaScript支持直接表示整数、浮点数、负数、科学计数法（例如<code>1.23e3</code>）、<code>NaN</code>、<code>Infinity</code>（无穷大）。所有数字都是<code>number</code>类型。</p>
<h4 id="字符串">2.4.2 字符串</h4>
<p>可以用单引号引出，也可以用双引号引出。</p>
<h4 id="布尔值">2.4.3 布尔值</h4>
<p>包含true和false，没有什么特别。</p>
<h4 id="逻辑运算">2.4.4 逻辑运算</h4>
<p>与<code>&amp;&amp;</code>或<code>||</code>非<code>!</code>。</p>
<h4 id="判等运算符">2.4.5 判等运算符</h4>
<ul>
<li><code>=</code>：赋值符号，不是判断等于符号</li>
<li><code>==</code>：等于（类型不同，但是值相同，也会返回true，例如<code>1 == '1'</code>）</li>
<li><code>===</code>：绝对等于（类型相同，值相同，==实际开发中常用绝对等于判断两个元素是否相等==）</li>
</ul>
<p>等于和绝对等于可以看作JavaScript的一个缺陷，坚持一定使用绝对等于进行比较。下面是一些注意事项：</p>
<ul>
<li><code>NaN</code>：不和任何数字相等，包括自己。如果要判断一个变量是否是<code>NaN</code>只能使用<code>isNaN()</code>函数。</li>
<li>计算机表示浮点数的精度有限，在计算机中<code>1/3 === 1 - 2/3</code>一定会返回一个<code>false</code>。尽量避免使用浮点数进行运算。</li>
</ul>
<h4 id="空指针和未定义">2.4.6 空指针和未定义</h4>
<p>空指针<code>null</code>没有什么稀奇，但是未定义<code>undefined</code>在其他语言中并不常见。例如此时有一个数组，如果要打印的数组元素超过了数组的长度，JavaScript不会报错，而是会返回一个<code>undefined</code>类型。</p>
<h4 id="数组">2.4.7 数组</h4>
<p>JavaScript对变量的类型没有明确定义，那么对于数组中是否存储相同类型的元素也不关心。JavaScript中的数组可以存放任意类型的变量。数组可以使用<code>[]</code>或者使用<code>Array()</code>方法定义，但是使用方括号对于代码的可读性贡献更好。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">"hello"</span>, <span class="literal">null</span>, <span class="literal">true</span>, <span class="literal">undefined</span>];</span><br><span class="line"><span class="comment">// 也可以采用下面的方式定义一个数组</span></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="string">"world"</span>, <span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure>
<h4 id="对象">2.4.8 对象</h4>
<p>JavaScript中定义一个对象可以直接使用大括号<code>{}</code>定义。任何数据类型都要用<code>var</code>定义，对象也不例外。<strong>这里的对象并不是面向对象的概念，没有封装、继承、多态等概念</strong>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = {</span><br><span class="line">    <span class="attr">mame</span>: <span class="string">"Include everything"</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">tags</span>: [<span class="string">"Piano"</span>, <span class="string">"C"</span>, <span class="string">"Verilog"</span>]</span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<p>注意：<strong>JavaScript中定义对象不需要先定义一个类</strong>。内部变量通过键值对的方式给出，值同样可以是不同的类型，具体的格式和json格式非常相似，每个属性之间使用逗号分隔，最后一个键值对不需要加逗号。使用类似<code>person.name</code>的方式访问元素即可，没有什么稀奇。</p>
<h3 id="严格检查模式">2.5 严格检查模式</h3>
<p>由于JavaScript中对于变量的定义十分宽泛，甚至直接使用类似Python语法定义变量都不会报错：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>实际上，上面的语句将<code>i</code>定义为一个全局变量。如果采用全局变量，会导致代码之间程序耦合的问题，会带来很多毁灭性的bug。在ES5中，采用<code>var</code>定义的变量是局部变量，而在ES6中，使用<code>let</code>和<code>const</code>定义变量才会被当作局部变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>在JS代码之前加入语句<code>'use strict';</code>语句即可开启严格检查模式，写这一行代码必须写在第一行。编译器会检查变量是否被定义，未经定义的变量会直接报错。使用后还可以规避一些JavaScript中变量定义随意性导致的问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line">            </span><br><span class="line">a = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240430230041181.png" alt="image-20240430230041181">
<figcaption aria-hidden="true">image-20240430230041181</figcaption>
</figure>
<h3 id="分支与循环">2.6 分支与循环</h3>
<p>分支循环的语法基本和C语言一模一样。注意某些特殊的写法如<code>for ... in ...</code>语句或者某些对象的循环方法即可（例如<code>forEach()</code>）。</p>
<h2 id="数据类型详解及其属性和方法">3 数据类型详解及其属性和方法</h2>
<h3 id="字符串-1">3.1 字符串</h3>
<p>正常的字符串使用单引号或者双引号引用。需要注意转义字符的引用，例如<code>\n</code>、<code>\'</code>、<code>\r</code>、<code>\t</code>等。</p>
<p>转义字符甚至可以直接打印ASCII编码字符和UniCode字符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'\u4e2d'</span>);    <span class="comment">// 中</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'\x41'</span>);    <span class="comment">// A</span></span><br></pre></td></tr></table></figure>
<p>JavaScript支持多行字符串编写，多行字符串需要使用`<code></code>字符引用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> msg = <span class="string">`hello</span></span><br><span class="line"><span class="string">world</span></span><br><span class="line"><span class="string">你好`</span>;</span><br></pre></td></tr></table></figure>
<p>在ES6中，模板字符串用下面的格式进行书写，注意使用多行字符串符号引用。（ES6新特性）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">'Include everything'</span>;</span><br><span class="line"><span class="keyword">let</span> age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> msg = <span class="string">`Hello, <span class="subst">${name}</span>, your age is <span class="subst">${age}</span>`</span>;</span><br></pre></td></tr></table></figure>
<p>字符串是不可变型变量。直接修改字符串中的某个字符不会报错，但是修改也不生效。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">'Zhang Yun'</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name[<span class="number">0</span>]);</span><br><span class="line">name[<span class="number">0</span>] = <span class="string">'A'</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);    <span class="comment">// 仍然打印 Zhang Yun</span></span><br></pre></td></tr></table></figure>
<p>下面是一些字符串常用的属性和方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">'Zhang Yun'</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="property">length</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">toUpperCase</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">toLowerCase</span>());</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">indexOf</span>(<span class="string">'n'</span>));      <span class="comment">// 返回找到第一个该字符的下标</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">substring</span>(<span class="number">1</span>));      <span class="comment">// 截取第一个字符之后所有的字符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name.<span class="title function_">substring</span>(<span class="number">1</span>, <span class="number">3</span>));    <span class="comment">// 截取字符串，截取范围是[1, 3)</span></span><br></pre></td></tr></table></figure>
<h3 id="数组-1">3.2 数组</h3>
<p>JavaScript中的数组和其他语言有相同的地方，比如都可以使用下标访问元素。但是也有不同的地方：</p>
<ul>
<li>JavaScript的数组可以存放任意数据类型的元素</li>
<li>数组长度可变，且可以直接被赋值。如果赋值小于当前长度，多余元素会直接丢失；如果赋值大于当前长度，会直接添加几个空元素。空元素的类型是undefined。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="property">length</span> = <span class="number">8</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line">arr.<span class="property">length</span> = <span class="number">2</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br></pre></td></tr></table></figure>
<p>下面给出数组的一些常用方法：</p>
<ul>
<li><code>indexOf()</code></li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="string">"1"</span>, <span class="string">"2"</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">indexOf</span>(<span class="number">1</span>));    <span class="comment">// 0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">indexOf</span>(<span class="string">"1"</span>));    <span class="comment">// 5，数组中数字和字符串不同</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>slice()</code>：截取Array的一部分（返回一个新的数组）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">slice</span>(<span class="number">2</span>))    <span class="comment">// [3, 4, 5]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">4</span>))  <span class="comment">// [3, 4]，截取范围是[a, b)，和substring类似，返回一个数组</span></span><br></pre></td></tr></table></figure>
<ul>
<li>添加或删除元素（修改原来的数组）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">push</span>(<span class="string">'a'</span>, <span class="string">'b'</span>)       <span class="comment">// 压入尾部</span></span><br><span class="line">arr.<span class="title function_">pop</span>()          <span class="comment">// 弹出尾部</span></span><br><span class="line">arr.<span class="title function_">unshift</span>(<span class="string">'head1'</span>, <span class="string">'head2'</span>) <span class="comment">// 压入头部      </span></span><br><span class="line">arr.<span class="title function_">shift</span>()          <span class="comment">// 弹出头部</span></span><br></pre></td></tr></table></figure>
<ul>
<li>排序算法（修改原来的数组）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'A'</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">sort</span>();        <span class="comment">// 正序</span></span><br><span class="line">arr.<span class="title function_">reverse</span>();      <span class="comment">// 逆序</span></span><br></pre></td></tr></table></figure>
<ul>
<li>拼接（返回一个新的数组）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'A'</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">concat</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]));    <span class="comment">// ['B', 'C', 'A', 1, 2, 3]</span></span><br></pre></td></tr></table></figure>
<ul>
<li>连接（返回一个字符串，由元素和连接符组成）</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'A'</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">join</span>(<span class="string">'-'</span>));    <span class="comment">// 'B-C-A'</span></span><br></pre></td></tr></table></figure>
<p>数组还有一个方法，可以实现类似循环的操作：<code>forEach</code>，里面的参数是一个方法，方法的参数即为数组的元素。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">3</span>, <span class="number">2</span>, <span class="number">44</span>, <span class="number">32</span>, <span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">arr.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">value</span>){</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">})</span><br><span class="line">            </span><br><span class="line"><span class="comment">// for (index in object)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> arr) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[i]);  </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// for (element of object)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><code>for in</code>遍历数组下标还存在一个特性，它不仅会返回元素的下标，还会返回元素对应的键：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line">arr.<span class="property">name</span> = <span class="string">'debussy'</span>;    <span class="comment">// arr 会新增一个键值对对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">in</span> arr) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);      <span class="comment">// 打印1， 2， 3， 4， 5和 name</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h3 id="对象-1">3.3 对象</h3>
<p>JavaScript中的对象用键值对的方式书写。这里的对象不是面向对象中的对象概念，没有封装、继承、多态的概念。<strong>所有的键都是字符串，值可以是任意类型</strong>。</p>
<p>可以使用delete命令动态删除对象中的某一属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">"Debussy"</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">score</span>: <span class="number">80</span></span><br><span class="line">};</span><br><span class="line"><span class="keyword">delete</span> person.<span class="property">score</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person[<span class="string">'age'</span>])</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240501143302426.png" alt="image-20240501143302426">
<figcaption aria-hidden="true">image-20240501143302426</figcaption>
</figure>
<p>直接给不存在的属性赋值，不会报错，JavaScript会自动添加属性。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person.<span class="property">tags</span> = [<span class="string">'C'</span>, <span class="string">'Verilog'</span>];</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240501143432663.png" alt="image-20240501143432663">
<figcaption aria-hidden="true">image-20240501143432663</figcaption>
</figure>
<p>使用<code>in</code>关键字判断属性是否在这个对象中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'age'</span> <span class="keyword">in</span> person);    <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'toString'</span> <span class="keyword">in</span> person);  <span class="comment">// true, 'toString'是父类的属性, person继承了父类的属性</span></span><br></pre></td></tr></table></figure>
<p>判断属性是否属于自身：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">hasOwnProperty</span>(<span class="string">'toString'</span>));    <span class="comment">// false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person.<span class="title function_">hasOwnProperty</span>(<span class="string">'name'</span>));      <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>对象定义中如果后面的定义和前面的定义冲突，那么以后面的为准（后面的定义会覆盖前面的）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Debussy</span> = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">"Debussy"</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">isMarried</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">skills</span>: [<span class="string">"HTML"</span>, <span class="string">"CSS"</span>, <span class="string">"JS"</span>],</span><br><span class="line">    <span class="attr">greet</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"Hello, my name is "</span> + <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    },</span><br><span class="line"></span><br><span class="line">    <span class="attr">name</span>: <span class="string">"Include everything"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="title class_">Debussy</span>.<span class="title function_">greet</span>();  <span class="comment">// Hello, my name is Include everything</span></span><br></pre></td></tr></table></figure>
<h3 id="map和set">3.4 Map和Set</h3>
<p>Map和Set是ES6的新特性。Map在组成上很像Python的字典，由键值对组成。定义的时候可以通过一个二维数组来定义。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">"tom"</span>, <span class="number">90</span>], [<span class="string">"bob"</span>, <span class="number">80</span>], [<span class="string">"alice"</span>, <span class="number">70</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> score = map.<span class="title function_">get</span>(<span class="string">"tom"</span>); <span class="comment">// get方法获取键值对的值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(score);</span><br><span class="line"></span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">"tom"</span>, <span class="number">100</span>);        <span class="comment">// 设置已有键值对的值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br><span class="line"></span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">"Debussy"</span>, <span class="number">85</span>);     <span class="comment">// 通过set创建新键值对</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br><span class="line"></span><br><span class="line">map.<span class="title function_">delete</span>(<span class="string">"tom"</span>);          <span class="comment">// 删除键值对</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br></pre></td></tr></table></figure>
<p>Set是一个无序不重复的集合。一般只能用来判断某元素是否在Set中存在。定义时使用一个数组定义，但是多余的元素会被自动忽略。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set);           <span class="comment">// set去重</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="property">size</span>);    <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">set.<span class="title function_">add</span>(<span class="number">2</span>);                 <span class="comment">// set添加元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set);       <span class="comment">// {1, 2, 3}</span></span><br><span class="line">set.<span class="title function_">delete</span>(<span class="number">1</span>);              <span class="comment">// set删除元素</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set);       <span class="comment">// {2, 3}</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set.<span class="title function_">has</span>(<span class="number">3</span>));    <span class="comment">// set判断元素是否存在，返回true</span></span><br></pre></td></tr></table></figure>
<h3 id="iterator-迭代器">3.5 iterator 迭代器</h3>
<p>迭代器是Python中一个经典的概念，JavaScript中也有类似的结构。迭代器是ES6的新特性，迭代器的主要作用是遍历对象中所有的元素，实际上很多数据结构都可以自己写函数或者方法来实现迭代器的功能，但是利用迭代器可以简化代码书写，提高效率。</p>
<p>在数组中可以使用<code>for in</code>和<code>for of</code>迭代所有的元素，前者迭代下标，后者迭代元素：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for (index in object)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> arr) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(arr[i]);  </span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// for (element of object)</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> arr) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><code>for of</code>这种方法在Map和Set中也同样适用。只有支持迭代器的对象才可以使用<code>for of</code>遍历。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="string">"tom"</span>, <span class="number">90</span>], [<span class="string">"bob"</span>, <span class="number">80</span>], [<span class="string">"alice"</span>, <span class="number">70</span>]]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> map) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);     <span class="comment">// 以数组的方式返回所有的键值对</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> x <span class="keyword">of</span> set) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<h2 id="函数和面向对象">4 函数和面向对象</h2>
<p>方法是一种函数。对象内定义的函数称为方法，其他函数称为普通函数。方法和函数的格式相同，只是二者的定义的位置不同。</p>
<h3 id="函数">4.1 函数</h3>
<p>下面是一个简单的返回绝对值的函数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">abs</span>(<span class="params">x</span>) {</span><br><span class="line">    <span class="keyword">if</span> (x &gt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span> </span><br><span class="line">        <span class="keyword">return</span> -x;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>如果函数没有正常返回，或者传参错误，JavaScript会返回NaN或者Undefined，而不是报错。</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240502111921868.png" alt="image-20240502111921868">
<figcaption aria-hidden="true">image-20240502111921868</figcaption>
</figure>
<p>函数也可以使用下面的方式定义，定义一个匿名函数，并且将该函数赋值给一个变量，这个变量就会称为该函数的名称，通过<code>abs</code>就可以调用函数。两种函数定义的方式等价。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> abs = <span class="keyword">function</span> (<span class="params">x</span>) {</span><br><span class="line">    <span class="keyword">if</span> (x &gt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> -x;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>JavaScript的参数的个数甚至都可以不确定。可以传递任意个参数，甚至不传递参数，函数在运行时都不会报错。这就需要程序员在设计函数时考虑到这些异常。</p>
<p>如果传入参数不存在，或者类型错误，可以使用<code>typeof</code>关键字获取参数类型，并通过<code>throw</code>关键字抛出一个异常：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> abs = <span class="keyword">function</span> (<span class="params">x</span>) {</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> x !== <span class="string">"number"</span>) {</span><br><span class="line">        <span class="comment">// throw "x is not a number!!!";</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">"x must be a number"</span>);    <span class="comment">// 该种写法会返回错误出现的位置</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (x &gt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> -x;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240502113736228.png" alt="image-20240502113736228">
<figcaption aria-hidden="true">image-20240502113736228</figcaption>
</figure>
<p><code>arguments</code>是JavaScript免费赠送的关键字，它会获取传入函数的所有参数，并且返回一个对应的数组：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> abs = <span class="keyword">function</span> (<span class="params">x</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"x = "</span> + x);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"arguments["</span> + i + <span class="string">"] = "</span> + <span class="variable language_">arguments</span>[i]);</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">if</span> (x &gt;= <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> -x;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240502113820501.png"></p>
<p>使用<code>arguments</code>会有一个问题：它包含所有的参数，但是有时我们又恰恰想用剩余的参数来进行操作。这时可以使用<code>rest</code>关键字（ES6新特性）获取除了已经定义的参数之外的所有参数。</p>
<p>如果不使用缺省参数关键字<code>...</code>获取剩余的参数：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">a, b</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"a = "</span> + a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"b = "</span> + b);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">arguments</span>.<span class="property">length</span> &gt; <span class="number">2</span>) {</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) {</span><br><span class="line">            ...</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p>如果使用<code>...</code>关键字，注意要在参数栏写明可能有缺省参数，且它只能写在最后，必须使用<code>...</code>标识表明rest是缺省的，<code>...</code>后是缺省参数的数组名称：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func</span>(<span class="params">a, b, ...rest</span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"a = "</span> + a);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"b = "</span> + b);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(rest);</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240502115043254.png"></p>
<blockquote>
<p>经过测试，rest并不是一个关键字，它相当于承载剩余参数的一个变量名而已，该变量是一个数组。</p>
</blockquote>
<h3 id="变量的作用域">4.2 变量的作用域</h3>
<h4 id="函数之间变量作用域">4.2.1 函数之间变量作用域</h4>
<p>JavaScript中的变量虽然可以在首次赋值时默认被直接声明，但是不可以在未定义时赋值给其他变量。下面的程序会立即报错，因为<code>x = x + 1</code>中等号右边的<code>x</code>没有被定义。可见使用<code>var</code>定义的变量是有作用域的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func1</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">}</span><br><span class="line">x = x + <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>如果两个函数中使用了相同的变量名，则两个变量名互不影响。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func1</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> x = <span class="number">1</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func2</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="keyword">var</span> x = <span class="string">'A'</span>;</span><br><span class="line">    x = x + <span class="number">1</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">}</span><br><span class="line"><span class="title function_">func1</span>();    <span class="comment">// 输出2</span></span><br><span class="line"><span class="title function_">func2</span>();    <span class="comment">// 输出A1（返回一个字符串，而不是返回B）</span></span><br></pre></td></tr></table></figure>
<p><strong>JavaScript的函数声明或者函数体甚至可以写在函数内部</strong>。下面的表达依然是合法的。并且内部函数可以使用外部函数的变量，但是外部函数不能访问内部函数的变量。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 外部函数可以访问内部函数变量，反之不可以</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">func_outer</span>(<span class="params"></span>)</span><br><span class="line">{</span><br><span class="line">    <span class="keyword">var</span> a_outer = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">func_inner</span>(<span class="params"></span>)</span><br><span class="line">    {</span><br><span class="line">        <span class="keyword">var</span> a_inner = <span class="number">2</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a_outer);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a_inner);</span><br><span class="line">    }</span><br><span class="line">    <span class="title function_">func_inner</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a_inner);   <span class="comment">// ReferenceError: a_inner is not defined</span></span><br><span class="line">}</span><br><span class="line"><span class="title function_">func_outer</span>();</span><br></pre></td></tr></table></figure>
<p>如果内部函数和外部函数声明了相同的变量名，则内部变量使用内部变量，外部变量使用外部变量。虽然从结果上看互不影响，但是官方的说法是：JavaScript函数查找变量从自身函数开始，从内向外查找。假设外部存在这个同名变量，则内部变量屏蔽外部函数变量。</p>
<h4 id="同一函数先后定义变量作用域">4.2.2
同一函数先后定义变量作用域</h4>
<p>JavaScript中，虽然使用未定义的变量给其他变量赋值会导致程序报错，<strong>但是如果这个变量在后面的程序段中定义，则不会报错，而是会将定义提前，但是定义时的赋值并不会提前</strong>。这时使用这个变量会返回一个<code>undefined</code>。也可以理解为编译器会自动将所有变量的定义提前，但是赋值并不会提前。所以通用的做法是将所有变量写在程序的头部，以预防这种情况的发生。这是在JavaScript建立之初就存在的特性，有一定的优点，但是不利于代码维护。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">1</span> + y;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(x);  <span class="comment">// 1 + undefined = NaN</span></span><br><span class="line"><span class="keyword">var</span> y = <span class="number">10</span>;    <span class="comment">// 如果写y = 10则会直接报错，因为y = 10不是一个定义</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(y);</span><br></pre></td></tr></table></figure>
<h4 id="全局作用域和window对象">4.2.3
全局作用域和<code>window</code>对象</h4>
<p>JavaScript中，<code>window</code>是一个特殊的对象，它代表浏览器，同时也是JavaScript的唯一的全局作用域。直接定义的变量都是<strong>全局变量</strong>，同时也是<code>window</code>的子属性。有些函数可以直接调用，例如<code>alert()</code>，
它是一个<strong>全局函数</strong>，它是<code>window</code>对象的子方法。==任何变量（函数也可以视为变量）如果没有在函数的作用范围内找到，就会向外查找，直到全局作用域<code>window</code>。如果在全局作用域都没有找到才会报错。==</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">"Hello!"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面三种写法等价</span></span><br><span class="line"><span class="title function_">alert</span>(x);</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(x);</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="variable language_">window</span>.<span class="property">x</span>);</span><br></pre></td></tr></table></figure>
<p>JavaScript中的变量可以是任意类型，当然也可以是一个函数。我们当然可以使用一个与原有函数同名的变量，将另一个函数赋值给这个变量，则原函数就会被新函数覆盖。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="string">"Hello!"</span>;</span><br><span class="line"><span class="keyword">var</span> y = <span class="string">"World!"</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(x);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> old_alert = <span class="variable language_">window</span>.<span class="property">alert</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">old_alert</span>(x);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> alert = <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    </span><br><span class="line">}</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(y);     <span class="comment">// 失效，浏览器不会弹出窗口</span></span><br><span class="line"></span><br><span class="line">alert = <span class="variable language_">window</span>.<span class="property">old_alert</span>;</span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(x);     <span class="comment">// 重新有效</span></span><br></pre></td></tr></table></figure>
<p>所有的全局变量都会绑定到<code>window</code>对象下，包括不同文件中定义的全局变量。假设不同文件中定义了相同的变量，就会导致冲突。解决方法是在每个JS文件中定义一个特殊的独一无二的对象，将这个对象作为当前文件的全局空间，可以在一定程度上减少冲突。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Debussy</span> = {};  <span class="comment">// 当前文件的全局变量</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义变量</span></span><br><span class="line"><span class="title class_">Debussy</span>.<span class="property">name</span> = <span class="string">"Debussy"</span>;</span><br><span class="line"><span class="title class_">Debussy</span>.<span class="property">age</span> = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义方法</span></span><br><span class="line"><span class="title class_">Debussy</span>.<span class="property">add</span> = <span class="keyword">function</span> (<span class="params">a, b</span>) {</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">};</span><br></pre></td></tr></table></figure>
<h4 id="局部作用域let和常量const">4.2.4
局部作用域<code>let</code>和常量<code>const</code></h4>
<p><code>let</code>和<code>const</code>都是ES6的新特性。现在已不建议使用<code>var</code>关键字定义常量，否则可能出现这样的Bug（特性？）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func1</span> () {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// 打印出了10，i是函数作用域下的变量，所以可以打印出来</span></span><br><span class="line">}</span><br><span class="line"><span class="title function_">func1</span>();</span><br></pre></td></tr></table></figure>
<p>但是这样的特性很多时候是不利于代码编写的。所以使用关键字<code>let</code>定义<code>i</code>就不存在这样的问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">func1</span> () {</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    }</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);     <span class="comment">// ReferenceError: i is not defined</span></span><br><span class="line">}</span><br><span class="line"><span class="title function_">func1</span>();</span><br></pre></td></tr></table></figure>
<p><code>const</code>的官方名是只读变量，它只可以在定义时被赋值，之后都不能被赋值。<code>const</code>声明的变量不可修改，数组和对象除外（数组和对象仅仅不能全部更改）。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> year = <span class="number">2024</span>;  <span class="comment">// 使用const必须要在声明时就初始化数值</span></span><br><span class="line"><span class="comment">// year = 2023;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(year);</span><br></pre></td></tr></table></figure>
<h3 id="方法的定义和调用">4.3 方法的定义和调用</h3>
<p>JavaScript中的方法定义十分简单。放置在对象中的函数就称为方法，甚至方法定义可以直接写在对象中：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Debussy</span> = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'Debussy'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">170</span>,</span><br><span class="line">    <span class="attr">weight</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">isMarried</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">hobby</span>: <span class="string">'Music'</span>,</span><br><span class="line">    <span class="attr">sayHello</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Hello!'</span>);</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">sayName</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);     <span class="comment">// this指向当前对象</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="title class_">Debussy</span>.<span class="title function_">sayHello</span>();</span><br><span class="line"><span class="title class_">Debussy</span>.<span class="title function_">sayName</span>();</span><br></pre></td></tr></table></figure>
<p>在对象中只有两种元素：属性和方法。<code>this</code>始终指向调用它的对象。如果将方法采用下面的写法，同样可以定义：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Debussy</span> = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'Debussy'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">170</span>,</span><br><span class="line">    <span class="attr">weight</span>: <span class="number">60</span>,</span><br><span class="line">    <span class="attr">isMarried</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">hobby</span>: <span class="string">'Music'</span>,</span><br><span class="line">    <span class="attr">sayHello</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'Hello!'</span>);</span><br><span class="line">    },</span><br><span class="line">    <span class="attr">sayName</span>: getName</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getName</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="title class_">Debussy</span>.<span class="title function_">sayHello</span>();</span><br><span class="line"><span class="title class_">Debussy</span>.<span class="title function_">sayName</span>();      <span class="comment">// Debussy</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">getName</span>();      <span class="comment">// 无法正常输出</span></span><br></pre></td></tr></table></figure>
<p>在其他编程语言中，一般而言<code>this</code>指向的对象都不可更改，但是在JavaScript中可以通过<code>apply()</code>函数定义当前调用这个函数的对象。所有的函数对象都有apply方法。例如，将上面代码块中的<code>getName()</code>改为下面的形式就可以正常输出：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">getName.<span class="title function_">apply</span>(<span class="title class_">Debussy</span>);</span><br><span class="line">getName.<span class="title function_">apply</span>(<span class="title class_">Debussy</span>, []);     <span class="comment">// 空参数可以不写，也可以用一个空数组代替</span></span><br></pre></td></tr></table></figure>
<h3 id="原型继承和类继承">4.4 原型继承和类继承</h3>
<h4 id="原型继承">4.4.1 原型继承</h4>
<p>早期的JavaScript程序并没有类定义，所以只能采用这种方法。如果一个对象想要获得另一个对象的部分属性，需要指定对象的<code>__proto__</code>属性来继承原有的对象，即指向一个原型。这样的编程方法虽然实现了类似面向对象的效果，但是没有强调面向对象的概念。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Student</span> = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">'Debussy'</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="string">'20'</span>,</span><br><span class="line">    <span class="attr">run</span>: <span class="keyword">function</span>(<span class="params"></span>){</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">' is running.'</span>);</span><br><span class="line">    },</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">PrimaryStudent</span> = {</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Student</span>,     <span class="comment">// 通过__proto__属性，继承Student</span></span><br><span class="line">    <span class="attr">name</span>: <span class="string">'xiaoming'</span>,</span><br><span class="line">    <span class="attr">grade</span>: <span class="string">'1'</span>,</span><br><span class="line">}</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240503200736201.png"></p>
<p>如果需要更改继承对象，只需要更改<code>__proto__</code>指向的对象即可（可能是原型继承唯一的优点）。任何对象都有原型属性，且这个原型属性可以追本溯源到<code>object</code>对象，包括<code>object</code>对象自身。</p>
<h4 id="类继承">4.4.2 类继承</h4>
<p>类继承也是ES6新增的方法。在ES6之前，通过下面的方法创建一个学生类：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 创建一个学生类（指定一个函数当作构造函数）</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name</span>) {</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">}</span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'My name is '</span> + <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">}</span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"Debussy"</span>);    <span class="comment">// s 是一个对象</span></span><br><span class="line">s.<span class="title function_">sayName</span>();</span><br></pre></td></tr></table></figure>
<p>在ES6之后才可以使用<code>class</code>关键字：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> {</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayName</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'My name is '</span> + <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">"Debussy"</span>);</span><br><span class="line">s.<span class="title function_">sayName</span>();</span><br></pre></td></tr></table></figure>
<p>使用下面的方法继承：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> {</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>) {</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayName</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'My name is '</span> + <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PrimaryStudent</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Student</span> {</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, grade</span>) {</span><br><span class="line">        <span class="variable language_">super</span>(name);            <span class="comment">// 调用父类的构造函数</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">grade</span> = grade;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="title function_">sayGrade</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">'I am in grade '</span> + <span class="variable language_">this</span>.<span class="property">grade</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ps = <span class="keyword">new</span> <span class="title class_">PrimaryStudent</span>(<span class="string">"Debussy"</span>, <span class="number">1</span>);</span><br><span class="line">ps.<span class="title function_">sayName</span>();</span><br><span class="line">ps.<span class="title function_">sayGrade</span>();</span><br></pre></td></tr></table></figure>
<blockquote>
<p>简单的回顾一下<strong>构造函数、原型和实例</strong>的关系：<strong>每个构造函数都有一个原型对象，原型对象都包含一个指向构造函数的指针</strong>，而实例都包含一个指向原型对象的内部指针。那么假如我们让原型对象等于另一个类型的实例，结果会怎样？显然，此时的原型对象将包含一个指向另一个原型的指针，相应地，另一个原型中也包含着一个指向另一个构造函数的指针。假如另一个原型又是另一个类型的实例，那么上述关系依然成立。如此层层递进，就构成了实例与原型的链条。这就是所谓的原型链的基本概念。</p>
<p>——摘自《javascript高级程序设计》</p>
</blockquote>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240503205317107.png" alt="image-20240503205317107">
<figcaption aria-hidden="true">image-20240503205317107</figcaption>
</figure>
<h2 id="内部对象">5 内部对象</h2>
<p>JavaScript中万物皆对象。常见的对象类型有如下几种（可以用<code>typeof</code>关键字获取）</p>
<ul>
<li><code>'number'</code>：所有数字均为<code>'number'</code>类型，部分整数和浮点数。包括<code>NaN</code>。</li>
<li><code>'string'</code></li>
<li><code>'boolean'</code></li>
<li><code>'function'</code>：函数名称的类型为<code>'function'</code></li>
<li><code>'object'</code>：数组和对象均为<code>'object'</code></li>
<li><code>'undefined'</code>：<code>undefined</code>独成一个类型，类型就是<code>'undefined'</code></li>
</ul>
<h3 id="date对象">5.1 Date对象</h3>
<p>可以使用<code>Date</code>获取当前时间和计算时间：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getFullYear</span>());     <span class="comment">// 年份</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getMonth</span>());        <span class="comment">// 月份，1月为0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getDate</span>());         <span class="comment">// 日期</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getDay</span>());          <span class="comment">// 星期几，0为星期天</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getHours</span>());        <span class="comment">// 小时</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getMinutes</span>());      <span class="comment">// 分钟</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getSeconds</span>());      <span class="comment">// 秒</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getMilliseconds</span>()); <span class="comment">// 毫秒</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(now.<span class="title function_">getTime</span>());         <span class="comment">// 距1970年1月1日0时0分0秒的毫秒数（时间戳）</span></span><br></pre></td></tr></table></figure>
<p>可以使用时间戳创建时间：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>(<span class="number">1714713565465</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time.<span class="title function_">toLocaleString</span>());         <span class="comment">// 2024/5/3 13:19:25</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time.<span class="title function_">toLocaleDateString</span>());     <span class="comment">// 2024/5/3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time.<span class="title function_">toLocaleTimeString</span>());     <span class="comment">// 13:19:25</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time.<span class="title function_">toGMTString</span>());            <span class="comment">// Fri, 03 May 2024 05:19:25 GMT</span></span><br></pre></td></tr></table></figure>
<h3 id="json对象">5.2 JSON对象</h3>
<p>JSON是一种数据格式，用于传输特定数据，本质上就是一串字符串。JavaScript中一切皆为对象，任何JavaScript支持的类型都可以用JSON来表示。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="title class_">Debussy</span> = {</span><br><span class="line">    <span class="attr">name</span>: <span class="string">"Debussy"</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">isMarried</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">skills</span>: [<span class="string">"HTML"</span>, <span class="string">"CSS"</span>, <span class="string">"JS"</span>],</span><br><span class="line">    <span class="attr">greet</span>: <span class="keyword">function</span>(<span class="params"></span>) {</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"Hello, my name is "</span> + <span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> jsonDebussy = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="title class_">Debussy</span>);  <span class="comment">// 返回一个字符串，函数会被省略'{"name":"Debussy","age":20,"isMarried":false,"skills":["HTML","CSS","JS"]}'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> parsedDebussy = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(jsonDebussy);<span class="comment">// 返回一个对象</span></span><br></pre></td></tr></table></figure>
<h2 id="bom和dom">6 BOM和DOM</h2>
<h3 id="bom对象">6.1 BOM对象</h3>
<p>在Web开发中，常用B（Browser）代表浏览器，S（Server）代表服务端。BOM全称为Browser
Object Module，即浏览器对象模型。</p>
<h4 id="window重要">6.1.1 <code>window</code>（重要）</h4>
<p><code>window</code>对象可以有两层含义：一可以指浏览器窗口，二是可以指唯一的全局作用域。<code>window</code>有下面的一些常用的方法和属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">alert</span>(<span class="string">'Hello'</span>);</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">console</span>.<span class="title function_">log</span>(<span class="string">'World'</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">innerHeight</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">innerWidth</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">outerHeight</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">window</span>.<span class="property">outerWidth</span>);</span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240504002359321.png" alt="image-20240504002359321">
<figcaption aria-hidden="true">image-20240504002359321</figcaption>
</figure>
<h4 id="navigator不建议使用">6.1.2
<code>navigator</code>（不建议使用）</h4>
<p><code>navigator</code>封装了浏览器的信息，它是<code>window</code>的一个属性。它比较常用的用法是获取当前的浏览器信息和用户信息，比如可以获知当前的网页打开使用的是什么浏览器，是手机浏览器还是PC浏览器，浏览器内核是什么，PC的OS信息等：</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240504003301819.png" alt="image-20240504003301819">
<figcaption aria-hidden="true">image-20240504003301819</figcaption>
</figure>
<p>大多数时候不会使用<code>navigator</code>对象，因为它可以被人为修改。不建议使用这些属性来判断和编写代码。</p>
<h4 id="screen">6.1.3 <code>screen</code></h4>
<p>代表屏幕信息。浏览器的功能远比想象的强大，它甚至可以操作浏览器之外的很多部件，获取很多信息。</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240504003632278.png" alt="image-20240504003632278">
<figcaption aria-hidden="true">image-20240504003632278</figcaption>
</figure>
<h4 id="location重要">6.1.4 <code>location</code>（重要）</h4>
<p><code>location</code>可以获取当前页面的URL信息。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">host</span>);     <span class="comment">// 主机 127.0.0.1:5500</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">href</span>);     <span class="comment">// http://127.0.0.1:5500/test.html</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(location.<span class="property">pathname</span>); <span class="comment">// /test.html</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// location.reload();   // 刷新网页</span></span><br><span class="line"></span><br><span class="line">location.<span class="title function_">assign</span>(<span class="string">"https://www.baidu.com"</span>);   <span class="comment">// 跳转到百度（将该网站连接到一个新地址）</span></span><br></pre></td></tr></table></figure>
<h4 id="document">6.1.5 <code>document</code></h4>
<p><code>document</code>代表当前的页面的html文件中的DOM文档树。可以通过<code>document</code>获取当前浏览器中文档树的节点。能获取就能做到增删改查。</p>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240504005547447.png" alt="image-20240504005547447">
<figcaption aria-hidden="true">image-20240504005547447</figcaption>
</figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span> <span class="attr">id</span>=<span class="string">"abc"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>Debussy<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Debussy is learning JavaScript<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dd</span>&gt;</span>Debussy must learning FPGA<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// "use strict";</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> dl = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'abc'</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="variable language_">console</span>.<span class="title function_">log</span>(dl);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure>
<img src="https://cdn.jsdelivr.net/gh/sukiDebussy/pictures@master/test/image-20240504005954901.png" alt="image-20240504005954901">
<figcaption aria-hidden="true">image-20240504005954901</figcaption>
</figure>
<p><code>document</code>还可以获取cookie。cookie包含了客户端的一些本地信息，通过这些信息，可能直接通过劫持这些cookie来非法登录网页，非法获取隐私等。服务器端可以设置cookie为httpOnly，就可以规避这个问题，提高网页使用安全性。</p>
<h4 id="history">6.1.6 <code>history</code></h4>
<p>代表浏览器的历史记录，通过这个对象可以前进和后退，但是不建议使用这种方法。浏览器网页的跳转还是建议在服务端实现。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">history.<span class="title function_">forward</span>();</span><br><span class="line">history.<span class="title function_">back</span>();</span><br></pre></td></tr></table></figure>
<h3 id="dom对象">6.2 DOM对象</h3>
<p><img src="https://s2.loli.net/2024/05/04/I6qfArds9cC2SuB.png"></p>
<p>DOM全称Document Object
Module，即文件对象模型。整个浏览器网页就是一个树形结构。通过操作DOM，可以实现网页元素的行为。<strong>要操作一个Dom节点，就必须先获得这个Dom节点</strong>。</p>
<ul>
<li>更新：更新Dom节点，例如给某个节点添加某个属性；</li>
<li>遍历：得到Dom节点，例如可以通过<code>id</code>属性得到节点；</li>
<li>删除：删除Dom节点；</li>
<li>添加：添加一个新的节点。</li>
</ul>
<p>一个标签就是一个节点，在网页上就体现为一个元素。</p>
<h4 id="获取dom节点">6.2.1 获取Dom节点</h4>
<p>首先介绍（复习）一些常见的Dom节点及其作用：</p>
<ul>
<li><p><code>div</code>：<code>div</code> HTML
元素是流式内容的<strong>通用容器</strong>。它对内容或布局没有影响。除非以某种方式使用
CSS
对其进行样式设置（例如，直接应用样式，或者对其父元素应用某种布局模型，如弹性盒子），否则它对内容或布局没有影响。</p></li>
<li><p><code>dl</code>：list列表</p>
<ul>
<li><code>dt</code>：title表头</li>
<li><code>dd</code>：description描述</li>
</ul></li>
</ul>
<p><img src="https://s2.loli.net/2024/05/04/cy7hODngUR9r6aj.png"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"father"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span>This is a h1 node<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dt</span>&gt;</span>This is a dt node<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span> <span class="attr">class</span>=<span class="string">"description"</span>&gt;</span>Lorem ipsum dolor sit amet consectetur adipisicing elit. Omnis laborum quia quos</span><br><span class="line">            sint repellat aut!</span><br><span class="line">            Fugiat et soluta exercitationem omnis rerum doloremque, doloribus, beatae culpa asperiores non minus</span><br><span class="line">            temporibus suscipit.<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Lorem ipsum dolor, sit amet consectetur adipisicing elit. Perferendis dolorem nostrum, aliquid aspernatur</span><br><span class="line">        cumque at illum, accusamus reprehenderit eaque fugit reiciendis itaque. At enim vero maiores eius laboriosam</span><br><span class="line">        sunt natus.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// "use strict";</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> h1 = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">"h1"</span>);               <span class="comment">// 通过标签名获取元素</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> dd = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">"description"</span>);    <span class="comment">// 通过类名获取元素</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> div_father = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">"father"</span>);         <span class="comment">// 通过id获取元素</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> div_children = div_father.<span class="property">children</span>;             <span class="comment">// 获取父元素下的所有子元素</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> div_child_1 = div_father.<span class="property">firstElementChild</span>;     <span class="comment">// 获得第一个子元素 dl</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">let</span> div_child_2 = div_father.<span class="property">lastElementChild</span>;      <span class="comment">// 获得最后一个子元素 p</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面的代码是原生代码，后续基本不使用。之后一般使用<code>jQuery()</code>获取Dom节点，但是了解原生写法还是很有必要的。</p>

    </div>

    
    <div class="about">
        <h1>About this Post</h1>
        <div class="details">
            <p>This post is written by Yun Zhang, licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc/4.0">CC BY-NC 4.0</a>.</p>
        </div>
        
        <p class="tags">
            
            <i class="icon"></i>
            <a href="/tags/JavaScript/" class="tag">#JavaScript</a>
        </p>
        
    </div>
    

    <div class="container post-prev-next">
        
        <a href="/2024/05/06/English-words/" class="next">
            <div>
                <div class="text">
                    <p class="label">Next</p>
                    <h3 class="title">六级复习</h3>
                </div>
            </div>
        </a>
        
        
        <a href="/2024/02/15/ED-algorithms/" class="prev">
            <div>
                <div class="text">
                    <p class="label">Previous</p>
                    <h3 class="title">腐蚀和膨胀算法</>
                </div>
            </div>
        </a>
        
    </div>

    
        
        
    
</article>

        <footer>
    <div class="inner">
        <div class="links">
            
            <div class="group">
                <h2 class="title">Blogs</h2>
                
                <a href="/" class="item">Blogs</a>
                
                <a href="/archives" class="item">Archives</a>
                
                <a href="/tags" class="item">Tags</a>
                
                <a href="/categories" class="item">Categories</a>
                
                <a href="/search" class="item">Search</a>
                
                <a href="/friends" class="item">Friends</a>
                
                <a href="/projects" class="item">Projects</a>
                
                <a href="/resume" class="item">Resume</a>
                
                <a href="/about" class="item">About</a>
                
                <a href="/atom.xml" class="item">RSS</a>
                
            </div>
            
            <div class="group">
                <h2 class="title">About Me</h2>
                
                <a target="_blank" rel="noopener" href="https://github.com/sukiDebussy" class="item">GitHub</a>
                
                <a href="zydajuanb@gmail.com" class="item">Email</a>
                
            </div>
            
        </div>
        <span>&copy; 2024 Yun Zhang<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> </span>
        
        <br>
        <span class="footer-extra-description">追逐梦想就是追逐自己的厄运.</span>
        
        
            <br>
            <div class="color-scheme-toggle" role="radiogroup" id="theme-color-scheme-toggle">
                <label>
                    <input type="radio" value="light">
                    <span>Light</span>
                </label>
                <label>
                    <input type="radio" value="dark">
                    <span>Dark</span>
                </label>
                <label>
                    <input type="radio" value="auto">
                    <span>Auto</span>
                </label>
            </div>
        
    </div>
</footer>


        
<script src="/js/main.js"></script>

        
        
        

        
        <script src="https://unpkg.com/scrollreveal"></script>
        <script>
            window.addEventListener('load', () => {
                ScrollReveal({ delay: 250, reset: true, easing: 'cubic-bezier(0, 0, 0, 1)' })
                ScrollReveal().reveal('.post-list-item .cover-img img')
                ScrollReveal().reveal('.post-list-item, .card, .content p img, .content .block-large img', { distance: '60px', origin: 'bottom', duration: 800 })
            })
        </script>
        
    </body>
</html>